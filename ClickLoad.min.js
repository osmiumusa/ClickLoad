//ClickLoad by Tucker Osman (github.com/osmiumusa/ClickLoad)
//Version 1, December 2015

(function(a){a.fn.clickload=function(b){a(this).click(function(){!1!==b.animate&&(a(this).css("-webkit-animation","progress-bar-stripes 2s linear infinite"),a(this).css("-o-animation","progress-bar-stripes 2s linear infinite"),a(this).css("animation","progress-bar-stripes 2s linear infinite"),a(this).addClass("progress-bar-striped"));a(this).removeClass("btn-success btn-danger");b.during&&a(this).text(b.during);!1!==b.disable&&a(this).prop("disabled",!0);var c=a(this);a.ajax({url:b.url,method:b.method||"GET",headers:b.headers||{},data:b.data||{},success:function(a,d,e){c.prop("disabled",!1);c.css("-webkit-animation","");c.css("-o-animation","");c.css("animation","");b.success&&!1===b.success(a,d,e)?(b.error?c.text(b.error(e,d,void 0,a)):c.text("Error!"),c.removeClass("btn-success").addClass("btn-danger")):(c.text(b.after),c.removeClass("progress-bar-striped").addClass("btn-success"))},error:function(a,d,e){c.css("-webkit-animation","");c.css("-o-animation","");c.css("animation","");c.removeClass("progress-bar-striped").removeClass("btn-success").addClass("btn-danger");a=b.error?b.error(a,d,e,void 0):"Error!";c.text(a)}})})}})(jQuery);
